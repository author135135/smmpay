{% load i18n %}
{% load static %}
{% load advert_tags %}

<div class="filter">
    <div class="filter__open">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 13 16" style="enable-background:new 0 0 13 16;" xml:space="preserve">
            <path class="st0" d="M0,2h13v2L8,9v7l-3-2V9L0,4V2z"></path>
            <path class="st0" d="M0,0h13v1H0V0z"></path>
        </svg>
    </div>
    <div class="filter__container">
        {% if social_networks %}
            <ul class="filter__form-social">
                {% for social_network in social_networks %}
                    <li class="{% if selected_social_network == social_network.code %}active{% endif %}">
                        <a href="{{ social_network.get_absolute_url }}" class="{{ social_network.code }}">
                            {{ social_network.title }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        <form id="filter-form">
            <div class="filter__row">
                <label class="filter__label">
                    <span class="filter__title">{{ filter_form.category.label }}</span>
                    {{ filter_form.category }}
                </label>
            </div>
            <div class="filter__row">
                <label class="filter__label">
                    <span class="filter__title">{{ filter_form.service.label }}</span>
                    {{ filter_form.service }}
                </label>
            </div>
            <div class="filter__row">
                <label class="filter__label">
                    <span class="filter__title">{{ filter_form.search_query.label }}</span>
                    {{ filter_form.search_query }}
                </label>
            </div>
            <div class="filter__row">
                <div class="filter__row__col">
                    <label class="filter__label">
                        <span class="filter__title">{{ filter_form.subscribers_min.label }}</span>
                        {{ filter_form.subscribers_min }}
                    </label>
                </div>
                <div class="filter__row__col">
                    <label class="filter__label">
                        <span class="filter__title">{{ filter_form.subscribers_max.label }}</span>
                        {{ filter_form.subscribers_max }}
                    </label>
                </div>
            </div>
            <div class="filter__row">
                <div class="filter__row__col">
                    <label class="filter__label">
                        <span class="filter__title">{{ filter_form.price_min.label }}</span>
                        {{ filter_form.price_min }}
                    </label>
                </div>
                <div class="filter__row__col">
                    <label class="filter__label">
                        <span class="filter__title">{{ filter_form.price_max.label }}</span>
                        {{ filter_form.price_max }}
                    </label>
                </div>
            </div>
            <div class="filter__row">
                <div class="sort">
                    <label class="filter__label">
                        <span class="filter__title">{{ filter_form.sort_by.label }}:</span>
                        <div class="sort-wrapper">
                            {{ filter_form.sort_by }}
                        </div>
                    </label>
                </div>
                <button type="button" class="filter__reset button">{% trans 'Reset filter' %}</button>

                <div class="adverts-found">
                    <span>{% trans 'Found' %}</span>
                    <span id="items-count">{{ paginator.count }}</span>
                </div>

                <button type="submit" class="filter__submit button">{% trans 'Find adverts' %}</button>
            </div>
        </form>
    </div>
</div>